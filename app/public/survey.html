<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Survey Page</title>

    <!-- Latest compiled and minified CSS & JS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1>Survey Questions</h1>
      <hr />
      <h3><strong>About You</strong></h3>
      <h5>Name (Required):</h5>
      <input type="text" name="" id="fullname" class="form-control" required/><br />
      <h5>Link to Photo Image (Required):</h5>
      <input type="text" name="" id="photo" class="form-control" required /><br />
      <hr/>
        <h4><b>Question 1</b></h4>
        <h5>My dog is very energetic. </h5> 
        <select data-placeholder="" class="chosen-select" id="question1">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 2</b></h4>
        <h5>My dog likes to play more aggressively.</h5>
        <select data-placeholder="" class="chosen-select" id="question2">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 3</b></h4>
        <h5>My dog's breed is in the toy group.</h5>
        <select data-placeholder="" class="chosen-select" id="question3">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 4</b></h4>
        <h5>My dog is submissive.</h5>
        <select data-placeholder="" class="chosen-select" id="question4">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
            </form>
        <h4><b>Question 5</b></h4>
        <h5>My dog likes to be the alpha.</h5>
        <select data-placeholder="" class="chosen-select" id="question5">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 6</b></h4>
        <h5>My dog cares more about humans than interacting with other dogs.</h5>
        <select data-placeholder="" class="chosen-select" id="question6">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 7</b></h4>
        <h5>My dog likes to bark while playing.</h5>
        <select data-placeholder="" class="chosen-select" id="question7">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 8</b></h4>
        <h5>My dog is small in size, but has a big personality.</h5>
        <select data-placeholder="" class="chosen-select" id="question8">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <h4><b>Question 9</b></h4>
        <h5>My dog just likes to chill out.</h5>
        <select data-placeholder="" class="chosen-select" id="question9">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>        
        <h4><b>Question 10</b></h4>
        <h5>My dog likes to fetch balls.</h5>
        <select data-placeholder="" class="chosen-select" id="question10">
          <option value=""></option>
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
        <div class ="text-center">
          <button type="button" class="btn btn-success" id="submit">Get Result!</button>
        </div>
    </div>

      <footer class="footer">
      </footer>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
      <div class="modal-dialog">
      
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Best Match!</h4>
          </div>
          <div class="modal-body">
              <div class="modal-body">
                  <h2 id="match-name"></h2>
                  <img id="match-img" style="max-width:500px;max-height:500px;" src="https://unsplash.com/photos/2Ts5HnA67k8"
                      alt="">
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
        
      </div>
    </div>
    
  </div>
  
  <script>

    
$("#submit").on("click", function(event) {
  event.preventDefault();

  // Here we grab the form elements
  var userData = {
    name: $("#fullname").val(),
    photo: $("#photo").val(),
    scores: [
    $("#question1").val(),
    $("#question2").val(),
    $("#question3").val(),
    $("#question4").val(),
    $("#question5").val(),
    $("#question6").val(),
    $("#question7").val(),
    $("#question8").val(),
    $("#question9").val(),
    $("#question10").val(),
  ]
  };

  console.log(userData);

//ajax post request that sends our userData to the server (by default attached to req.body)
// AJAX post the data to the friends API.  
$.post("/api/friends", userData, function(res) {
    console.log(res);
    // Grab the result from the AJAX post so that the best match's name and photo are displayed.
      $("#match-name").text(userData.body.name);
      $("#match-img").attr("src", userData.body.photo);


      // Show the modal with the best match
      $("#results-modal").modal("toggle");

  });
});
  </script>
</body>
</html>


 
 
